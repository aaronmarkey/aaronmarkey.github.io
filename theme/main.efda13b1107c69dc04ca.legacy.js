function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)},_wrapNativeSuper(e)}function _construct(e,t,n){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _isNativeFunction(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:M(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function b(){}var O={};c(O,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&r.call(S,a)&&(O=S);var A=b.prototype=g.prototype=Object.create(O);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function M(t,n,r){var i=d;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?m:f,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},w(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(A),c(A,u,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createForOfIteratorHelperLoose(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function e(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++)for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(null,arguments)}var n={689:function(t,n,i){i.d(n,{lg:function(){return ce},xI:function(){return ke}});var o=function(){function e(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}var t=e.prototype;return t.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},t.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},t.bindingConnected=function(e){this.unorderedBindings.add(e)},t.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},t.handleEvent=function(e){for(var t,n=a(e),r=_createForOfIteratorHelperLoose(this.bindings);!(t=r()).done;){var i=t.value;if(n.immediatePropagationStopped)break;i.handleEvent(n)}},t.hasBindings=function(){return this.unorderedBindings.size>0},_createClass(e,[{key:"bindings",get:function(){return Array.from(this.unorderedBindings).sort((function(e,t){var n=e.index,r=t.index;return n<r?-1:n>r?1:0}))}}])}(),a=function(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})},s=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}var t=e.prototype;return t.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(e){return e.connect()})))},t.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(e){return e.disconnect()})))},t.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},t.bindingDisconnected=function(e,t){void 0===t&&(t=!1),this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)},t.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},t.clearEventListenersForBinding=function(e){var t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))},t.removeMappedEventListenerFor=function(e){var t=e.eventTarget,n=e.eventName,r=e.eventOptions,i=this.fetchEventListenerMapForEventTarget(t),o=this.cacheKey(n,r);i.delete(o),0==i.size&&this.eventListenerMaps.delete(t)},t.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName,r=e.eventOptions;return this.fetchEventListener(t,n,r)},t.fetchEventListener=function(e,t,n){var r=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,n),o=r.get(i);return o||(o=this.createEventListener(e,t,n),r.set(i,o)),o},t.createEventListener=function(e,t,n){var r=new o(e,t,n);return this.started&&r.connect(),r},t.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},t.cacheKey=function(e,t){var n=[e];return Object.keys(t).sort().forEach((function(e){n.push((t[e]?"":"!")+e)})),n.join(":")},_createClass(e,[{key:"eventListeners",get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(e,t){return e.concat(Array.from(t.values()))}),[])}}])}(),u={stop:function(e){var t=e.event;return e.value&&t.stopPropagation(),!0},prevent:function(e){var t=e.event;return e.value&&t.preventDefault(),!0},self:function(e){var t=e.event,n=e.value,r=e.element;return!n||r===t.target}},c=r({},(e(u),u)),l=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/,h=function(e){return"window"==e?window:"document"==e?document:void 0},d=function(e){return e.split(":").reduce((function(e,t){var n;return Object.assign(e,((n={})[t.replace(/^!/,"")]=!/^!/.test(t),n))}),{})};function f(e){return e.replace(/(?:[_-])([a-z0-9])/g,(function(e,t){return t.toUpperCase()}))}function p(e){return f(e.replace(/--/g,"-").replace(/__/g,"_"))}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}function g(e){return null!=e}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var b=["meta","ctrl","alt","shift"],O=function(){function e(e,t,n,r){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||S(e)||A("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||A("missing identifier"),this.methodName=n.methodName||A("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=r}e.forToken=function(e,t){return new this(e.element,e.index,function(e){var t=e.trim().match(l)||[],n=t[2],r=t[3];return r&&!["keydown","keyup","keypress"].includes(n)&&(n+="."+r,r=""),{eventTarget:h(t[4]),eventName:n,eventOptions:t[7]?d(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||r}}(e.content),t)};var t=e.prototype;return t.toString=function(){var e=this.keyFilter?"."+this.keyFilter:"",t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+t+"->"+this.identifier+"#"+this.methodName},t.shouldIgnoreKeyboardEvent=function(e){if(!this.keyFilter)return!1;var t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;var n=t.filter((function(e){return!b.includes(e)}))[0];return!!n&&(y(this.keyMappings,n)||A("contains unknown key filter: "+this.keyFilter),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase())},t.shouldIgnoreMouseEvent=function(e){if(!this.keyFilter)return!1;var t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)},t.keyFilterDissatisfied=function(e,t){var n=b.map((function(e){return t.includes(e)})),r=n[0],i=n[1],o=n[2],a=n[3];return e.metaKey!==r||e.ctrlKey!==i||e.altKey!==o||e.shiftKey!==a},_createClass(e,[{key:"params",get:function(){for(var e={},t=new RegExp("^data-"+this.identifier+"-(.+)-param$","i"),n=0,r=Array.from(this.element.attributes);n<r.length;n++){var i=r[n],o=i.name,a=i.value,s=o.match(t),u=s&&s[1];u&&(e[f(u)]=w(a))}return e}},{key:"eventTargetName",get:function(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e}},{key:"keyMappings",get:function(){return this.schema.keyMappings}}])}(),k={a:function(){return"click"},button:function(){return"click"},form:function(){return"submit"},details:function(){return"toggle"},input:function(e){return"submit"==e.getAttribute("type")?"click":"input"},select:function(){return"change"},textarea:function(){return"input"}},S=function(e){var t=e.tagName.toLowerCase();if(t in k)return k[t](e)};function A(e){throw new Error(e)}var w=function(e){try{return JSON.parse(e)}catch(t){return e}},C=function(){function e(e,t){this.context=e,this.action=t}var t=e.prototype;return t.handleEvent=function(e){var t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)},t.applyEventModifiers=function(e){for(var t=this.action.element,n=this.context.application.actionDescriptorFilters,r=this.context.controller,i=!0,o=0,a=Object.entries(this.eventOptions);o<a.length;o++){var s=a[o],u=s[0],c=s[1];if(u in n){var l=n[u];i=i&&l({name:u,value:c,event:e,element:t,controller:r})}}return i},t.prepareActionEvent=function(e){return Object.assign(e,{params:this.action.params})},t.invokeWithEvent=function(e){var t=e.target,n=e.currentTarget;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(t){var r={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:e};this.context.handleError(t,'invoking action "'+this.action+'"',r)}},t.willBeInvokedByEvent=function(e){var t=e.target;return!(e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e))&&!(e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e))&&(this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)))},_createClass(e,[{key:"index",get:function(){return this.action.index}},{key:"eventTarget",get:function(){return this.action.eventTarget}},{key:"eventOptions",get:function(){return this.action.eventOptions}},{key:"identifier",get:function(){return this.context.identifier}},{key:"eventName",get:function(){return this.action.eventName}},{key:"method",get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')}},{key:"controller",get:function(){return this.context.controller}},{key:"methodName",get:function(){return this.action.methodName}},{key:"element",get:function(){return this.scope.element}},{key:"scope",get:function(){return this.context.scope}}])}(),M=function(){function e(e,t){var n=this;this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((function(e){return n.processMutations(e)}))}var t=e.prototype;return t.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())},t.pause=function(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)},t.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var r=n[t];e.has(r)||this.removeElement(r)}for(var i=0,o=Array.from(e);i<o.length;i++){var a=o[i];this.addElement(a)}}},t.processMutations=function(e){if(this.started)for(var t,n=_createForOfIteratorHelperLoose(e);!(t=n()).done;){var r=t.value;this.processMutation(r)}},t.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},t.processAttributeChange=function(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)},t.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}},t.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},t.matchElement=function(e){return this.delegate.matchElement(e)},t.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},t.processTree=function(e,t){for(var n,r=_createForOfIteratorHelperLoose(this.matchElementsInTree(e));!(n=r()).done;){var i=n.value;t.call(this,i)}},t.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},t.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},t.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},t.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),E=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new M(e,this)}var t=e.prototype;return t.start=function(){this.elementObserver.start()},t.pause=function(e){this.elementObserver.pause(e)},t.stop=function(){this.elementObserver.stop()},t.refresh=function(){this.elementObserver.refresh()},t.matchElement=function(e){return e.hasAttribute(this.attributeName)},t.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},t.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},t.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},t.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},_createClass(e,[{key:"element",get:function(){return this.elementObserver.element}},{key:"selector",get:function(){return"["+this.attributeName+"]"}},{key:"started",get:function(){return this.elementObserver.started}}])}();function F(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}var L=function(){function e(){this.valuesByKey=new Map}var t=e.prototype;return t.add=function(e,t){!function(e,t,n){F(e,t).add(n)}(this.valuesByKey,e,t)},t.delete=function(e,t){!function(e,t,n){F(e,t).delete(n),function(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}(this.valuesByKey,e,t)},t.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},t.hasKey=function(e){return this.valuesByKey.has(e)},t.hasValue=function(e){return Array.from(this.valuesByKey.values()).some((function(t){return t.has(e)}))},t.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},t.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter((function(t){return t[0],t[1].has(e)})).map((function(e){var t=e[0];return e[1],t}))},_createClass(e,[{key:"keys",get:function(){return Array.from(this.valuesByKey.keys())}},{key:"values",get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e.concat(Array.from(t))}),[])}},{key:"size",get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e+t.size}),0)}}])}(),N=function(){function e(e,t,n,r){this._selector=t,this.details=r,this.elementObserver=new M(e,this),this.delegate=n,this.matchesByElement=new L}var t=e.prototype;return t.start=function(){this.elementObserver.start()},t.pause=function(e){this.elementObserver.pause(e)},t.stop=function(){this.elementObserver.stop()},t.refresh=function(){this.elementObserver.refresh()},t.matchElement=function(e){var t=this.selector;if(t){var n=e.matches(t);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}return!1},t.matchElementsInTree=function(e){var t=this,n=this.selector;if(n){var r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(n)).filter((function(e){return t.matchElement(e)}));return r.concat(i)}return[]},t.elementMatched=function(e){var t=this.selector;t&&this.selectorMatched(e,t)},t.elementUnmatched=function(e){for(var t,n=_createForOfIteratorHelperLoose(this.matchesByElement.getKeysForValue(e));!(t=n()).done;){var r=t.value;this.selectorUnmatched(e,r)}},t.elementAttributeChanged=function(e,t){var n=this.selector;if(n){var r=this.matchElement(e),i=this.matchesByElement.has(n,e);r&&!i?this.selectorMatched(e,n):!r&&i&&this.selectorUnmatched(e,n)}},t.selectorMatched=function(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)},t.selectorUnmatched=function(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)},_createClass(e,[{key:"started",get:function(){return this.elementObserver.started}},{key:"selector",get:function(){return this._selector},set:function(e){this._selector=e,this.refresh()}},{key:"element",get:function(){return this.elementObserver.element}}])}(),T=function(){function e(e,t){var n=this;this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((function(e){return n.processMutations(e)}))}var t=e.prototype;return t.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())},t.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.refresh=function(){if(this.started)for(var e,t=_createForOfIteratorHelperLoose(this.knownAttributeNames);!(e=t()).done;){var n=e.value;this.refreshAttribute(n,null)}},t.processMutations=function(e){if(this.started)for(var t,n=_createForOfIteratorHelperLoose(e);!(t=n()).done;){var r=t.value;this.processMutation(r)}},t.processMutation=function(e){var t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)},t.refreshAttribute=function(e,t){var n=this.delegate.getStringMapKeyForAttribute(e);if(null!=n){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);var r=this.element.getAttribute(e);if(this.stringMap.get(e)!=r&&this.stringMapValueChanged(r,n,t),null==r){var i=this.stringMap.get(e);this.stringMap.delete(e),i&&this.stringMapKeyRemoved(n,e,i)}else this.stringMap.set(e,r)}},t.stringMapKeyAdded=function(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)},t.stringMapValueChanged=function(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)},t.stringMapKeyRemoved=function(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)},_createClass(e,[{key:"knownAttributeNames",get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}},{key:"currentAttributeNames",get:function(){return Array.from(this.element.attributes).map((function(e){return e.name}))}},{key:"recordedAttributeNames",get:function(){return Array.from(this.stringMap.keys())}}])}(),B=function(){function e(e,t,n){this.attributeObserver=new E(e,t,this),this.delegate=n,this.tokensByElement=new L}var t=e.prototype;return t.start=function(){this.attributeObserver.start()},t.pause=function(e){this.attributeObserver.pause(e)},t.stop=function(){this.attributeObserver.stop()},t.refresh=function(){this.attributeObserver.refresh()},t.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},t.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],r=t[1];this.tokensUnmatched(n),this.tokensMatched(r)},t.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},t.tokensMatched=function(e){var t=this;e.forEach((function(e){return t.tokenMatched(e)}))},t.tokensUnmatched=function(e){var t=this;e.forEach((function(e){return t.tokenUnmatched(e)}))},t.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},t.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},t.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=x(t,n).findIndex((function(e){var t=e[0],n=e[1];return!I(t,n)}));return-1==r?[[],[]]:[t.slice(r),n.slice(r)]},t.readTokensForElement=function(e){var t=this.attributeName,n=e.getAttribute(t)||"";return P(n,e,t)},_createClass(e,[{key:"started",get:function(){return this.attributeObserver.started}},{key:"element",get:function(){return this.attributeObserver.element}},{key:"attributeName",get:function(){return this.attributeObserver.attributeName}}])}(),P=function(e,t,n){return e.trim().split(/\s+/).filter((function(e){return e.length})).map((function(e,r){return{element:t,attributeName:n,content:e,index:r}}))},x=function(e,t){var n=Math.max(e.length,t.length);return Array.from({length:n},(function(n,r){return[e[r],t[r]]}))},I=function(e,t){return e&&t&&e.index==t.index&&e.content==t.content},R=function(){function e(e,t,n){this.tokenListObserver=new B(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}var t=e.prototype;return t.start=function(){this.tokenListObserver.start()},t.stop=function(){this.tokenListObserver.stop()},t.refresh=function(){this.tokenListObserver.refresh()},t.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},t.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},t.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},t.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},t.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}},_createClass(e,[{key:"started",get:function(){return this.tokenListObserver.started}},{key:"element",get:function(){return this.tokenListObserver.element}},{key:"attributeName",get:function(){return this.tokenListObserver.attributeName}}])}(),j=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}var t=e.prototype;return t.start=function(){this.valueListObserver||(this.valueListObserver=new R(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},t.connectAction=function(e){var t=new C(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},t.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},t.disconnectAllActions=function(){var e=this;this.bindings.forEach((function(t){return e.delegate.bindingDisconnected(t,!0)})),this.bindingsByAction.clear()},t.parseValueForToken=function(e){var t=O.forToken(e,this.schema);if(t.identifier==this.identifier)return t},t.elementMatchedValue=function(e,t){this.connectAction(t)},t.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},_createClass(e,[{key:"element",get:function(){return this.context.element}},{key:"identifier",get:function(){return this.context.identifier}},{key:"actionAttribute",get:function(){return this.schema.actionAttribute}},{key:"schema",get:function(){return this.context.schema}},{key:"bindings",get:function(){return Array.from(this.bindingsByAction.values())}}])}(),D=function(){function e(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new T(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}var t=e.prototype;return t.start=function(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()},t.stop=function(){this.stringMapObserver.stop()},t.getStringMapKeyForAttribute=function(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name},t.stringMapKeyAdded=function(e,t){var n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))},t.stringMapValueChanged=function(e,t,n){var r=this.valueDescriptorNameMap[t];null!==e&&(null===n&&(n=r.writer(r.defaultValue)),this.invokeChangedCallback(t,e,n))},t.stringMapKeyRemoved=function(e,t,n){var r=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,r.writer(this.receiver[e]),n):this.invokeChangedCallback(e,r.writer(r.defaultValue),n)},t.invokeChangedCallbacksForDefaultValues=function(){for(var e,t=_createForOfIteratorHelperLoose(this.valueDescriptors);!(e=t()).done;){var n=e.value,r=n.key,i=n.name,o=n.defaultValue,a=n.writer;null==o||this.controller.data.has(r)||this.invokeChangedCallback(i,a(o),void 0)}},t.invokeChangedCallback=function(e,t,n){var r=e+"Changed",i=this.receiver[r];if("function"==typeof i){var o=this.valueDescriptorNameMap[e];try{var a=o.reader(t),s=n;n&&(s=o.reader(n)),i.call(this.receiver,a,s)}catch(e){throw e instanceof TypeError&&(e.message='Stimulus Value "'+this.context.identifier+"."+o.name+'" - '+e.message),e}}},t.hasValue=function(e){var t="has"+m(this.valueDescriptorNameMap[e].name);return this.receiver[t]},_createClass(e,[{key:"element",get:function(){return this.context.element}},{key:"controller",get:function(){return this.context.controller}},{key:"valueDescriptors",get:function(){var e=this.valueDescriptorMap;return Object.keys(e).map((function(t){return e[t]}))}},{key:"valueDescriptorNameMap",get:function(){var e=this,t={};return Object.keys(this.valueDescriptorMap).forEach((function(n){var r=e.valueDescriptorMap[n];t[r.name]=r})),t}}])}(),_=function(){function e(e,t){this.context=e,this.delegate=t,this.targetsByName=new L}var t=e.prototype;return t.start=function(){this.tokenListObserver||(this.tokenListObserver=new B(this.element,this.attributeName,this),this.tokenListObserver.start())},t.stop=function(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)},t.tokenMatched=function(e){var t=e.element,n=e.content;this.scope.containsElement(t)&&this.connectTarget(t,n)},t.tokenUnmatched=function(e){var t=e.element,n=e.content;this.disconnectTarget(t,n)},t.connectTarget=function(e,t){var n,r=this;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((function(){return r.delegate.targetConnected(e,t)})))},t.disconnectTarget=function(e,t){var n,r=this;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((function(){return r.delegate.targetDisconnected(e,t)})))},t.disconnectAllTargets=function(){for(var e,t=_createForOfIteratorHelperLoose(this.targetsByName.keys);!(e=t()).done;)for(var n,r=e.value,i=_createForOfIteratorHelperLoose(this.targetsByName.getValuesForKey(r));!(n=i()).done;){var o=n.value;this.disconnectTarget(o,r)}},_createClass(e,[{key:"attributeName",get:function(){return"data-"+this.context.identifier+"-target"}},{key:"element",get:function(){return this.context.element}},{key:"scope",get:function(){return this.context.scope}}])}();function K(e,t){var n=V(e);return Array.from(n.reduce((function(e,n){return G(n,t).forEach((function(t){return e.add(t)})),e}),new Set))}function V(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}var G=function(e,t){var n=e[t];return Array.isArray(n)?n:[]},H=function(){function e(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new L,this.outletElementsByName=new L,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}var t=e.prototype;return t.start=function(){var e=this;this.started||(this.outletDefinitions.forEach((function(t){e.setupSelectorObserverForOutlet(t),e.setupAttributeObserverForOutlet(t)})),this.started=!0,this.dependentContexts.forEach((function(e){return e.refresh()})))},t.refresh=function(){this.selectorObserverMap.forEach((function(e){return e.refresh()})),this.attributeObserverMap.forEach((function(e){return e.refresh()}))},t.stop=function(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())},t.stopSelectorObservers=function(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach((function(e){return e.stop()})),this.selectorObserverMap.clear())},t.stopAttributeObservers=function(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach((function(e){return e.stop()})),this.attributeObserverMap.clear())},t.selectorMatched=function(e,t,n){var r=n.outletName,i=this.getOutlet(e,r);i&&this.connectOutlet(i,e,r)},t.selectorUnmatched=function(e,t,n){var r=n.outletName,i=this.getOutletFromMap(e,r);i&&this.disconnectOutlet(i,e,r)},t.selectorMatchElement=function(e,t){var n=t.outletName,r=this.selector(n),i=this.hasOutlet(e,n),o=e.matches("["+this.schema.controllerAttribute+"~="+n+"]");return!!r&&i&&o&&e.matches(r)},t.elementMatchedAttribute=function(e,t){var n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)},t.elementAttributeValueChanged=function(e,t){var n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)},t.elementUnmatchedAttribute=function(e,t){var n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)},t.connectOutlet=function(e,t,n){var r,i=this;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),null===(r=this.selectorObserverMap.get(n))||void 0===r||r.pause((function(){return i.delegate.outletConnected(e,t,n)})))},t.disconnectOutlet=function(e,t,n){var r,i=this;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),null===(r=this.selectorObserverMap.get(n))||void 0===r||r.pause((function(){return i.delegate.outletDisconnected(e,t,n)})))},t.disconnectAllOutlets=function(){for(var e,t=_createForOfIteratorHelperLoose(this.outletElementsByName.keys);!(e=t()).done;)for(var n,r=e.value,i=_createForOfIteratorHelperLoose(this.outletElementsByName.getValuesForKey(r));!(n=i()).done;)for(var o,a=n.value,s=_createForOfIteratorHelperLoose(this.outletsByName.getValuesForKey(r));!(o=s()).done;){var u=o.value;this.disconnectOutlet(u,a,r)}},t.updateSelectorObserverForOutlet=function(e){var t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))},t.setupSelectorObserverForOutlet=function(e){var t=this.selector(e),n=new N(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()},t.setupAttributeObserverForOutlet=function(e){var t=this.attributeNameForOutletName(e),n=new E(this.scope.element,t,this);this.attributeObserverMap.set(e,n),n.start()},t.selector=function(e){return this.scope.outlets.getSelectorForOutletName(e)},t.attributeNameForOutletName=function(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)},t.getOutletNameFromOutletAttributeName=function(e){var t=this;return this.outletDefinitions.find((function(n){return t.attributeNameForOutletName(n)===e}))},t.hasOutlet=function(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)},t.getOutlet=function(e,t){return this.application.getControllerForElementAndIdentifier(e,t)},t.getOutletFromMap=function(e,t){return this.outletsByName.getValuesForKey(t).find((function(t){return t.element===e}))},_createClass(e,[{key:"outletDependencies",get:function(){var e=new L;return this.router.modules.forEach((function(t){K(t.definition.controllerConstructor,"outlets").forEach((function(n){return e.add(n,t.identifier)}))})),e}},{key:"outletDefinitions",get:function(){return this.outletDependencies.getKeysForValue(this.identifier)}},{key:"dependentControllerIdentifiers",get:function(){return this.outletDependencies.getValuesForKey(this.identifier)}},{key:"dependentContexts",get:function(){var e=this.dependentControllerIdentifiers;return this.router.contexts.filter((function(t){return e.includes(t.identifier)}))}},{key:"scope",get:function(){return this.context.scope}},{key:"schema",get:function(){return this.context.schema}},{key:"identifier",get:function(){return this.context.identifier}},{key:"application",get:function(){return this.context.application}},{key:"router",get:function(){return this.application.router}}])}(),U=function(){function e(e,t){var n=this;this.logDebugActivity=function(e,t){void 0===t&&(t={});var r=n.identifier,i=n.controller,o=n.element;t=Object.assign({identifier:r,controller:i,element:o},t),n.application.logDebugActivity(n.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new j(this,this.dispatcher),this.valueObserver=new D(this,this.controller),this.targetObserver=new _(this,this),this.outletObserver=new H(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(e){this.handleError(e,"initializing controller")}}var t=e.prototype;return t.connect=function(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}},t.refresh=function(){this.outletObserver.refresh()},t.disconnect=function(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()},t.handleError=function(e,t,n){void 0===n&&(n={});var r=this.identifier,i=this.controller,o=this.element;n=Object.assign({identifier:r,controller:i,element:o},n),this.application.handleError(e,"Error "+t,n)},t.targetConnected=function(e,t){this.invokeControllerMethod(t+"TargetConnected",e)},t.targetDisconnected=function(e,t){this.invokeControllerMethod(t+"TargetDisconnected",e)},t.outletConnected=function(e,t,n){this.invokeControllerMethod(p(n)+"OutletConnected",e,t)},t.outletDisconnected=function(e,t,n){this.invokeControllerMethod(p(n)+"OutletDisconnected",e,t)},t.invokeControllerMethod=function(e){for(var t=this.controller,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];"function"==typeof t[e]&&t[e].apply(t,r)},_createClass(e,[{key:"application",get:function(){return this.module.application}},{key:"identifier",get:function(){return this.module.identifier}},{key:"schema",get:function(){return this.application.schema}},{key:"dispatcher",get:function(){return this.application.dispatcher}},{key:"element",get:function(){return this.scope.element}},{key:"parentElement",get:function(){return this.element.parentElement}}])}(),z=function(e,t){var n=Q(e),r=J(e.prototype,t);return Object.defineProperties(n.prototype,r),n},q=function(e){return K(e,"blessings").reduce((function(t,n){var r=n(e);for(var i in r){var o=t[i]||{};t[i]=Object.assign(o,r[i])}return t}),{})},J=function(e,t){return Y(t).reduce((function(n,r){var i,o=W(e,t,r);return o&&Object.assign(n,((i={})[r]=o,i)),n}),{})},W=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,n);if(!r||!("value"in r)){var i=Object.getOwnPropertyDescriptor(t,n).value;return r&&(i.get=r.get||i.get,i.set=r.set||i.set),i}},Y=function(e){return[].concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e))},Q=function(){function e(e){function t(){return Reflect.construct(e,arguments,this instanceof t?this.constructor:void 0)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){var t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(e){return function(e){return function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t}(e)}}}(),Z=function(){function e(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:(t=e.controllerConstructor,z(t,q(t)))};var t}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}var t=e.prototype;return t.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},t.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},t.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new U(this,e),this.contextsByScope.set(e,t)),t},_createClass(e,[{key:"identifier",get:function(){return this.definition.identifier}},{key:"controllerConstructor",get:function(){return this.definition.controllerConstructor}},{key:"contexts",get:function(){return Array.from(this.connectedContexts)}}])}(),$=function(){function e(e){this.scope=e}var t=e.prototype;return t.has=function(e){return this.data.has(this.getDataKey(e))},t.get=function(e){return this.getAll(e)[0]},t.getAll=function(e){return(this.data.get(this.getDataKey(e))||"").match(/[^\s]+/g)||[]},t.getAttributeName=function(e){return this.data.getAttributeNameForKey(this.getDataKey(e))},t.getDataKey=function(e){return e+"-class"},_createClass(e,[{key:"data",get:function(){return this.scope.data}}])}(),X=function(){function e(e){this.scope=e}var t=e.prototype;return t.get=function(e){var t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)},t.set=function(e,t){var n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)},t.has=function(e){var t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)},t.delete=function(e){if(this.has(e)){var t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1},t.getAttributeNameForKey=function(e){return"data-"+this.identifier+"-"+v(e)},_createClass(e,[{key:"element",get:function(){return this.scope.element}},{key:"identifier",get:function(){return this.scope.identifier}}])}(),ee=function(){function e(e){this.warnedKeysByObject=new WeakMap,this.logger=e}return e.prototype.warn=function(e,t,n){var r=this.warnedKeysByObject.get(e);r||(r=new Set,this.warnedKeysByObject.set(e,r)),r.has(t)||(r.add(t),this.logger.warn(n,e))},e}();function te(e,t){return"["+e+'~="'+t+'"]'}var ne=function(){function e(e){this.scope=e}var t=e.prototype;return t.has=function(e){return null!=this.find(e)},t.find=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return t||e.findTarget(n)||e.findLegacyTarget(n)}),void 0)},t.findAll=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return[].concat(t,e.findAllTargets(n),e.findAllLegacyTargets(n))}),[])},t.findTarget=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findElement(t)},t.findAllTargets=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)},t.getSelectorForTargetName=function(e){return te(this.schema.targetAttributeForScope(this.identifier),e)},t.findLegacyTarget=function(e){var t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)},t.findAllLegacyTargets=function(e){var t=this,n=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(n).map((function(n){return t.deprecate(n,e)}))},t.getLegacySelectorForTargetName=function(e){var t=this.identifier+"."+e;return te(this.schema.targetAttribute,t)},t.deprecate=function(e,t){if(e){var n=this.identifier,r=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,"target:"+t,"Please replace "+r+'="'+n+"."+t+'" with '+i+'="'+t+'". The '+r+" attribute is deprecated and will be removed in a future version of Stimulus.")}return e},_createClass(e,[{key:"element",get:function(){return this.scope.element}},{key:"identifier",get:function(){return this.scope.identifier}},{key:"schema",get:function(){return this.scope.schema}},{key:"guide",get:function(){return this.scope.guide}}])}(),re=function(){function e(e,t){this.scope=e,this.controllerElement=t}var t=e.prototype;return t.has=function(e){return null!=this.find(e)},t.find=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return t||e.findOutlet(n)}),void 0)},t.findAll=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return[].concat(t,e.findAllOutlets(n))}),[])},t.getSelectorForOutletName=function(e){var t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)},t.findOutlet=function(e){var t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)},t.findAllOutlets=function(e){var t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]},t.findElement=function(e,t){var n=this;return this.scope.queryElements(e).filter((function(r){return n.matchesElement(r,e,t)}))[0]},t.findAllElements=function(e,t){var n=this;return this.scope.queryElements(e).filter((function(r){return n.matchesElement(r,e,t)}))},t.matchesElement=function(e,t,n){var r=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&r.split(" ").includes(n)},_createClass(e,[{key:"element",get:function(){return this.scope.element}},{key:"identifier",get:function(){return this.scope.identifier}},{key:"schema",get:function(){return this.scope.schema}}])}(),ie=function(){function e(e,t,n,r){var i=this;this.targets=new ne(this),this.classes=new $(this),this.data=new X(this),this.containsElement=function(e){return e.closest(i.controllerSelector)===i.element},this.schema=e,this.element=t,this.identifier=n,this.guide=new ee(r),this.outlets=new re(this.documentScope,t)}var t=e.prototype;return t.findElement=function(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)},t.findAllElements=function(e){return[].concat(this.element.matches(e)?[this.element]:[],this.queryElements(e).filter(this.containsElement))},t.queryElements=function(e){return Array.from(this.element.querySelectorAll(e))},_createClass(e,[{key:"controllerSelector",get:function(){return te(this.schema.controllerAttribute,this.identifier)}},{key:"isDocumentScope",get:function(){return this.element===document.documentElement}},{key:"documentScope",get:function(){return this.isDocumentScope?this:new e(this.schema,document.documentElement,this.identifier,this.guide.logger)}}])}(),oe=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new R(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}var t=e.prototype;return t.start=function(){this.valueListObserver.start()},t.stop=function(){this.valueListObserver.stop()},t.parseValueForToken=function(e){var t=e.element,n=e.content;return this.parseValueForElementAndIdentifier(t,n)},t.parseValueForElementAndIdentifier=function(e,t){var n=this.fetchScopesByIdentifierForElement(e),r=n.get(t);return r||(r=this.delegate.createScopeForElementAndIdentifier(e,t),n.set(t,r)),r},t.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},t.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},t.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},_createClass(e,[{key:"controllerAttribute",get:function(){return this.schema.controllerAttribute}}])}(),ae=function(){function e(e){this.application=e,this.scopeObserver=new oe(this.element,this.schema,this),this.scopesByIdentifier=new L,this.modulesByIdentifier=new Map}var t=e.prototype;return t.start=function(){this.scopeObserver.start()},t.stop=function(){this.scopeObserver.stop()},t.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new Z(this.application,e);this.connectModule(t);var n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)},t.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},t.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((function(t){return t.element==e}))},t.proposeToConnectScopeForElementAndIdentifier=function(e,t){var n=this.scopeObserver.parseValueForElementAndIdentifier(e,t);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error("Couldn't find or create scope for identifier: \""+t+'" and element:',e)},t.handleError=function(e,t,n){this.application.handleError(e,t,n)},t.createScopeForElementAndIdentifier=function(e,t){return new ie(this.schema,e,t,this.logger)},t.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},t.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},t.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.connectContextForScope(t)}))},t.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.disconnectContextForScope(t)}))},_createClass(e,[{key:"element",get:function(){return this.application.element}},{key:"schema",get:function(){return this.application.schema}},{key:"logger",get:function(){return this.application.logger}},{key:"controllerAttribute",get:function(){return this.schema.controllerAttribute}},{key:"modules",get:function(){return Array.from(this.modulesByIdentifier.values())}},{key:"contexts",get:function(){return this.modules.reduce((function(e,t){return e.concat(t.contexts)}),[])}}])}(),se={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:function(e){return"data-"+e+"-target"},outletAttributeForScope:function(e,t){return"data-"+e+"-"+t+"-outlet"},keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},ue("abcdefghijklmnopqrstuvwxyz".split("").map((function(e){return[e,e]})))),ue("0123456789".split("").map((function(e){return[e,e]}))))};function ue(t){return t.reduce((function(t,n){var i,o=n[0],a=n[1],s=r({},(e(t),t));return Object.assign(s,((i={})[o]=a,i))}),{})}var ce=function(){function e(e,t){var n=this;void 0===e&&(e=document.documentElement),void 0===t&&(t=se),this.logger=console,this.debug=!1,this.logDebugActivity=function(e,t,r){void 0===r&&(r={}),n.debug&&n.logFormattedMessage(e,t,r)},this.element=e,this.schema=t,this.dispatcher=new s(this),this.router=new ae(this),this.actionDescriptorFilters=c}e.start=function(e,t){var n=new this(e,t);return n.start(),n};var t,n=e.prototype;return n.start=(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start");case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)}),n.stop=function(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")},n.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},n.registerActionOption=function(e,t){this.actionDescriptorFilters[e]=t},n.load=function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(Array.isArray(e)?e:[e].concat(r)).forEach((function(e){e.controllerConstructor.shouldLoad&&t.router.loadDefinition(e)}))},n.unload=function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(Array.isArray(e)?e:[e].concat(r)).forEach((function(e){return t.router.unloadIdentifier(e)}))},n.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},n.handleError=function(e,t,n){var r;this.logger.error("%s\n\n%o\n\n%o",t,e,n),null===(r=window.onerror)||void 0===r||r.call(window,t,"",0,0,e)},n.logFormattedMessage=function(e,t,n){void 0===n&&(n={}),n=Object.assign({application:this},n),this.logger.groupCollapsed(e+" #"+t),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()},_createClass(e,[{key:"controllers",get:function(){return this.router.contexts.map((function(e){return e.controller}))}}])}(),le=function(){return new Promise((function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(function(){return e()})):e()}))};function he(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function de(e,t,n){var r=he(e,t,n);return r||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),(r=he(e,t,n))||void 0)}function fe(e,t){var n=e[0],r=e[1];return ve({controller:t,token:n,typeDefinition:r})}function pe(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function me(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}var ve=function(e){var t=e.token,n=e.typeDefinition,r=v(t)+"-value",i=function(e){var t=e.controller,n=e.token,r=e.typeDefinition,i=function(e){var t=e.controller,n=e.token,r=e.typeObject,i=g(r.type),o=g(r.default),a=i&&o,s=i&&!o,u=!i&&o,c=pe(r.type),l=me(e.typeObject.default);if(s)return c;if(u)return l;if(c!==l)throw new Error('The specified default value for the Stimulus Value "'+(t?t+"."+n:n)+'" must match the defined type "'+c+'". The provided default value of "'+r.default+'" is of type "'+l+'".');return a?c:void 0}({controller:t,token:n,typeObject:r}),o=me(r),a=pe(r),s=i||o||a;if(s)return s;throw new Error('Unknown value type "'+(t?t+"."+r:n)+'" for "'+n+'" value')}(e);return{type:i,key:r,name:f(r),get defaultValue(){return function(e){var t=pe(e);if(t)return ge[t];var n=y(e,"default"),r=y(e,"type"),i=e;if(n)return i.default;if(r){var o=pe(i.type);if(o)return ge[o]}return e}(n)},get hasCustomDefaultValue(){return void 0!==me(n)},reader:ye[i],writer:be[i]||be.default}},ge={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ye={array:function(e){var t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError('expected value of type "array" but instead got value "'+e+'" of type "'+me(t)+'"');return t},boolean:function(e){return!("0"==e||"false"==String(e).toLowerCase())},number:function(e){return Number(e.replace(/_/g,""))},object:function(e){var t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError('expected value of type "object" but instead got value "'+e+'" of type "'+me(t)+'"');return t},string:function(e){return e}},be={default:function(e){return""+e},array:Oe,object:Oe};function Oe(e){return JSON.stringify(e)}var ke=function(){function e(e){this.context=e}e.afterLoad=function(e,t){};var t=e.prototype;return t.initialize=function(){},t.connect=function(){},t.disconnect=function(){},t.dispatch=function(e,t){var n=void 0===t?{}:t,r=n.target,i=void 0===r?this.element:r,o=n.detail,a=void 0===o?{}:o,s=n.prefix,u=void 0===s?this.identifier:s,c=n.bubbles,l=void 0===c||c,h=n.cancelable,d=new CustomEvent(u?u+":"+e:e,{detail:a,bubbles:l,cancelable:void 0===h||h});return i.dispatchEvent(d),d},_createClass(e,[{key:"application",get:function(){return this.context.application}},{key:"scope",get:function(){return this.context.scope}},{key:"element",get:function(){return this.scope.element}},{key:"identifier",get:function(){return this.scope.identifier}},{key:"targets",get:function(){return this.scope.targets}},{key:"outlets",get:function(){return this.scope.outlets}},{key:"classes",get:function(){return this.scope.classes}},{key:"data",get:function(){return this.scope.data}}],[{key:"shouldLoad",get:function(){return!0}}])}();ke.blessings=[function(e){return K(e,"classes").reduce((function(e,t){return Object.assign(e,function(e){var t;return(t={})[e+"Class"]={get:function(){var t=this.classes;if(t.has(e))return t.get(e);var n=t.getAttributeName(e);throw new Error('Missing attribute "'+n+'"')}},t[e+"Classes"]={get:function(){return this.classes.getAll(e)}},t["has"+m(e)+"Class"]={get:function(){return this.classes.has(e)}},t}(t))}),{})},function(e){return K(e,"targets").reduce((function(e,t){return Object.assign(e,function(e){var t;return(t={})[e+"Target"]={get:function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+e+'" for "'+this.identifier+'" controller')}},t[e+"Targets"]={get:function(){return this.targets.findAll(e)}},t["has"+m(e)+"Target"]={get:function(){return this.targets.has(e)}},t}(t))}),{})},function(e){var t=function(e,t){return V(e).reduce((function(e,t){return e.push.apply(e,function(e,t){var n=e.values;return n?Object.keys(n).map((function(e){return[e,n[e]]})):[]}(t)),e}),[])}(e),n={valueDescriptorMap:{get:function(){var e=this;return t.reduce((function(t,n){var r,i=fe(n,e.identifier),o=e.data.getAttributeNameForKey(i.key);return Object.assign(t,((r={})[o]=i,r))}),{})}}};return t.reduce((function(e,t){return Object.assign(e,function(e,t){var n,r=fe(e,void 0),i=r.key,o=r.name,a=r.reader,s=r.writer;return(n={})[o]={get:function(){var e=this.data.get(i);return null!==e?a(e):r.defaultValue},set:function(e){void 0===e?this.data.delete(i):this.data.set(i,s(e))}},n["has"+m(o)]={get:function(){return this.data.has(i)||r.hasCustomDefaultValue}},n}(t))}),n)},function(e){return K(e,"outlets").reduce((function(e,t){return Object.assign(e,function(e){var t,n=p(e);return(t={})[n+"Outlet"]={get:function(){var t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){var r=de(this,t,e);if(r)return r;throw new Error('The provided outlet element is missing an outlet controller "'+e+'" instance for host controller "'+this.identifier+'"')}throw new Error('Missing outlet element "'+e+'" for host controller "'+this.identifier+'". Stimulus couldn\'t find a matching outlet element using selector "'+n+'".')}},t[n+"Outlets"]={get:function(){var t=this,n=this.outlets.findAll(e);return n.length>0?n.map((function(n){var r=de(t,n,e);if(r)return r;console.warn('The provided outlet element is missing an outlet controller "'+e+'" instance for host controller "'+t.identifier+'"',n)})).filter((function(e){return e})):[]}},t[n+"OutletElement"]={get:function(){var t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw new Error('Missing outlet element "'+e+'" for host controller "'+this.identifier+'". Stimulus couldn\'t find a matching outlet element using selector "'+n+'".')}},t[n+"OutletElements"]={get:function(){return this.outlets.findAll(e)}},t["has"+m(n)+"Outlet"]={get:function(){return this.outlets.has(e)}},t}(t))}),{})}],ke.targets=[],ke.outlets=[],ke.values={}},137:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var r=n(689),i=n(886),o=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.initialize=function(){this.fonts=function(){for(var e=i.A.getRandomFont("body"),t=i.A.getRandomFont("code"),n=e;n===e;)n=i.A.getRandomFont("body");return{body:e,code:t,header:n}}(),this.injectFont(this.fonts.body),this.injectFont(this.fonts.code),this.injectFont(this.fonts.header),this.setPageFonts()},n.injectFont=function(e){var t=i.A.elementForFont(e);this.element.parentNode.insertBefore(t,this.element)},n.keyPress=function(e){var t=e.key.toLowerCase(),n={a:"/about",b:"/blog",h:"/"};t in n&&(window.location.href=n[t])},n.setPageFonts=function(){var e="\n      body {\n        font-family: "+this.fonts.body+";\n      }\n      code {\n        font-family: "+this.fonts.code+";\n      }\n      .story h1,\n      .story h2,\n      .story h3,\n      .story h4,\n      .story h5,\n      .story h6 {\n        font-family: "+this.fonts.header+";\n      }\n    ";this.element.innerHTML=e},t}(r.xI)},714:function(e,t,n){var r;n.r(t),n.d(t,{default:function(){return s}});var i=n(689),o=n(886),a=n(725),s=((r=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.initialize=function(){this.setRandomByline(),this.setRandomTitleFonts(),this.setRandomEmojis(new Array(0))},n.setRandomByline=function(){var e=this.authorNamesValue.first[a.A.randomInt(0,this.authorNamesValue.first.length-1)],t=this.authorNamesValue.last[a.A.randomInt(0,this.authorNamesValue.last.length-1)];this.bylineTarget.innerText=e+" "+t},n.setRandomTitleFonts=function(){var e=this.titleTarget.dataset.title.split(""),t=[],n="";e.forEach((function(e){var r=o.A.getRandomFont("nameplate");t.push(o.A.elementForFont(r,e));var i=document.createElement("span");i.style="font-family: "+r+";",i.innerHTML=e,n+=i.outerHTML})),t.forEach((function(e){document.head.appendChild(e)})),this.titleTarget.innerHTML=n},n.setRandomEmojis=function(e){var t=e.length>0?e:this.defaultEmojisValue,n=t[a.A.randomInt(0,t.length-1)],r=t[a.A.randomInt(0,t.length-1)];this.emojiLeftTarget.innerText=""+n,this.emojiRightTarget.innerText=""+r},n.paletteWasUpdated=function(e){var t=e.detail.palette;this.setRandomEmojis(t.emojis)},t}(i.xI)).targets=["byline","title","emojiLeft","emojiRight"],r.values={authorNames:Object,defaultEmojis:Array},r)},726:function(e,t,n){var r;n.r(t),n.d(t,{default:function(){return i}});var i=((r=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.initialize=function(){var e=this,t="."+this.storyContentClass+" img";document.querySelectorAll(t).forEach((function(t){t.addEventListener("click",(function(t){var n=document.createElement("img");n.src=t.target.src,n.alt=t.target.alt,e.overlayTarget.appendChild(n),e.overlayTarget.classList.remove(e.hiddenClass)}))}))},n.hideOverlay=function(){this.overlayTarget.innerHTML="",this.overlayTarget.classList.add(this.hiddenClass)},n.setMetaThemeColor=function(){var e=document.querySelector("meta[name='theme-color']"),t=getComputedStyle(e);e.setAttribute("content",t.color)},n.pickerWasToggled=function(e){e.detail.isOpen?this.selfTarget.classList.add(this.disabledClass,this.defocusedClass):this.selfTarget.classList.remove(this.disabledClass,this.defocusedClass)},n.paletteWasUpdated=function(e){var t=e.detail.palette,n=document.querySelector("html");n.className="",n.classList.add("palette-"+t.id),this.setMetaThemeColor()},t}(n(689).xI)).classes=["defocused","disabled","hidden","storyContent"],r.targets=["overlay","self"],r)},20:function(e,t,n){var r;n.r(t),n.d(t,{default:function(){return a}});var i=n(689),o=function(){function e(){}var t=e.prototype;return t.setItem=function(e,t){var n=t;"Object"===t.constructor.name&&(n=JSON.stringify(t)),localStorage.setItem(e,n)},t.getItem=function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t||null},e}(),a=((r=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.initialize=function(){this.storage=new o;var e=this.storage.getItem("palette"),t=this.defaultPaletteValue;this.setPalette(e||t)},n.setPalette=function(e){this.storage.setItem("palette",e),document.querySelectorAll(".picker-item").forEach((function(e){e.classList.remove("picker-item-selected")})),document.querySelector("#picker-item-"+e.id).classList.add("picker-item-selected"),this.dispatch("paletteUpdated",{detail:{palette:e}})},n.paletteSelected=function(e){var t=JSON.parse(e.currentTarget.dataset.palette);this.setPalette(t)},n.openMenu=function(){this.isOpenValue=!0,this.menuTarget.classList.remove(this.hiddenClass)},n.closeMenu=function(){this.isOpenValue=!1,this.menuTarget.classList.add(this.hiddenClass)},n.toggleMenu=function(){this.isOpenValue?this.closeMenu():this.openMenu(),this.dispatch("toggled",{detail:{isOpen:this.isOpenValue}})},n.closeIfNeeded=function(e){!this.element.contains(e.target)&&this.isOpenValue&&this.toggleMenu()},t}(i.xI)).classes=["hidden"],r.targets=["menu"],r.values={isOpen:Boolean,defaultPalette:Object},r)},886:function(e,t,n){n.d(t,{A:function(){return o}});var r=n(725),i={body:["Roboto","Open Sans","Lato","Montserrat","Quattrocento","Muli","Playfair Display","Crimson Text","Bitter","Josefin Sans","Arvo","Varela Round","Source Serif Pro","Questrial","Tinos","Monda","Nanum Myeongjo","Sanchez","Frank Ruhl Libre","Prata","Glegoo","IBM Plex Sans","Kreon","Alice","Antic Slab","Anaheim","Ovo","Biryani"],code:["Roboto Mono","Source Code Pro","Anonymous Pro","Cutive Mono","Overpass Mono","Nova Mono"],nameplate:["Roboto","Charm","ZCOOL XiaoWei","Open Sans","Lato","Montserrat","Thasadith","Roboto Condensed","Oswald","Aleo","Source Sans Pro","Raleway","PT Sans","Merriweather","Sarabun","Slabo 27px","Roboto Slab","Noto Sans","Poppins","Ubuntu","Major Mono Display","Open Sans Condensed","Roboto Mono","Playfair Display","PT Serif","Lora","Muli","Staatliches","Mukta","PT Sans Narrow","Titillium Web","Arimo","Nunito","Fira Sans","Nanum Gothic","Noto Serif","ZCOOL QingKe HuangYou","Work Sans","Dosis","Rubik","Quicksand","Inconsolata","Noto Sans KR","Hind","Crimson Text","Oxygen","Lobster","Noto Serif TC","Noto Serif SC","Libre Baskerville","B612","Bitter","Libre Franklin","Indie Flower","Josefin Sans","Anton","Cabin","Fjalla One","B612 Mono","Exo 2","Nunito Sans","Arvo","Encode Sans Condensed","ZCOOL KuaiLe","Noto Sans JP","Hind Siliguri","Varela Round","Karla","Pacifico","Abel","Shadows Into Light","Yanone Kaffeesatz","Righteous","Dancing Script","Merriweather Sans","Source Serif Pro","Kanit","Abril Fatface","Exo","Bree Serif","Acme","Comfortaa","Asap","Ubuntu Condensed","Cairo","Amatic SC","Catamaran","Signika","EB Garamond","Questrial","Teko","Heebo","Archivo Narrow","Permanent Marker","Play","Noto Sans TC","Source Code Pro","Crete Round","Maven Pro","Hind Madurai","Cuprum","Gloria Hallelujah","Francois One","Fira Sans Condensed","PT Sans Caption","Viga","Rokkitt","Assistant","Alegreya","Domine","Patua One","Courgette","Rajdhani","Prompt","Cinzel","Vollkorn","Satisfy","Istok Web","Ropa Sans","Alegreya Sans","Old Standard TT","Special Elite","ABeeZee","Cantarell","Concert One","Gochi Hand","Amiri","Cardo","Kaushan Script","Barlow","Orbitron","Caveat","Great Vibes","Quattrocento Sans","Cookie","Tinos","Noticia Text","News Cycle","Hammersmith One","Arapey","Signika Negative","Cormorant Garamond","Barlow Condensed","Merienda","Poiret One","Alfa Slab One","Lobster Two","Pathway Gothic One","Fredoka One","Monda","Nanum Myeongjo","Russo One","Hind Guntur","Kalam","Tangerine","Do Hyeon","Archivo Black","Noto Sans SC","BenchNine","Tenor Sans","Passion One","Chivo","Volkhov","Ultra","Playfair Display SC","Pontano Sans","Marck Script","Cabin Condensed","Sigmar One","Fira Sans Extra Condensed","Philosopher","Sacramento","Handlee","M PLUS 1p","Overpass","Josefin Slab","Monoton","Boogaloo","Gudea","Luckiest Guy","Didact Gothic","Quattrocento","IBM Plex Sans","Yantramanav","Khand","Changa","Sorts Mill Goudy","Armata","Martel","Bangers","Tajawal","Sawarabi Mincho","Iceberg","Zilla Slab","Ruda","Hind Vadodara","Neucha","Lalezar","El Messiri","Patrick Hand","Unica One","Pragati Narrow","Vidaloka","Neuton","Prata","Economica","Taviraj","Press Start 2P","Yrsa","Sanchez","Carter One","Averia Libre","Hanalei Fill","Audiowide","Adamina","Advent Pro","Barlow Semi Condensed","Shrikhand","Alice","Paytone One","Architects Daughter","Enriqueta","Frank Ruhl Libre","Bad Script","Yellowtail","PT Serif Caption","Montserrat Alternates","Amaranth","Gentium Basic","PT Mono","Gentium Book Basic","Khula","Antic Slab","Prosto One","Shadows Into Light Two","Arbutus Slab","Glegoo","Sarala","Jura","K2D","Grand Hotel","Julius Sans One","Kreon","Playball","Scada","Oleo Script","Rock Salt","Covered By Your Grace","Ubuntu Mono","Damion","Pridi","Actor","Fugaz One","Karma","Sintony","Average","Alegreya Sans SC","Electrolize","Bai Jamjuree","Niramit","Mali","Krub","KoHo","Kodchasan","Fahkwang","Homemade Apple","Saira Extra Condensed","Marmelad","Michroma","Lusitana","Baloo","Mitr","Jaldi","Chakra Petch","Bungee","Allura","Parisienne","Oranienbaum","Nothing You Could Do","Allerta Stencil","Varela","Anaheim","Unna","Chewy","Forum","Happy Monkey","Reenie Beanie","Molengo","Cormorant","Sawarabi Gothic","Cantata One","Black Ops One","Archivo","Bevan","Saira","Ovo","Alex Brush","Nanum Gothic Coding","Coustard","Rochester","VT323","Pangolin","Scheherazade","Niconne","Spinnaker","Nobile","Rambla","Allerta","Pinyon Script","Fredericka the Great","Charmonman","Srisakdi","Leckerli One","Quantico","Saira Semi Condensed","Nanum Pen Script","Syncopate","Reem Kufi","Rancho","Space Mono","Lustria","Rasa","Italianno","Cabin Sketch","Marcellus","Arsenal","Aldrich","Mr Dafoe","IBM Plex Serif","Lilita One","Magra","Kameron","Caveat Brush","Coda","Alef","Overlock","Fauna One","Gothic A1","Itim","Palanquin","Biryani","Basic","Antic","Days One","Carrois Gothic","Squada One","Coming Soon","Radley","Changa One","Share","Slabo 13px","Contrail One","Bowlby One SC","Carme","Berkshire Swash","Cousine","Sue Ellen Francisco","Just Another Hand","Titan One","Bungee Inline","Noto Serif JP","Noto Serif KR","Yeseva One","Mukta Vaani","Caudex","Candal","Aclonica","Lateef","Abhaya Libre","Buenard","Spectral","IM Fell Double Pica","Martel Sans","Padauk","Rufina","Six Caps","Lekton","Voltaire","Eczar","Anonymous Pro","Wendy One","Racing Sans One","Limelight","Mada","Petit Formal Script","Share Tech Mono","Yesteryear","Kurale","Oxygen Mono","Secular One","M PLUS Rounded 1c","Marcellus SC","Nanum Brush Script","Cinzel Decorative","Marvel","Sirin Stencil","Alegreya SC","Saira Condensed","Aladin","Rosario","Arima Madurai","Metrophobic","Norican","Annie Use Your Telescope","Nixie One","Jockey One","Ceviche One","Maitree","Londrina Solid","Pattaya","Copse","Baloo Bhaina","Freckle Face","Markazi Text","Gruppo","Telex","Skranji","Encode Sans","Shojumaru","Raleway Dots","Goudy Bookletter 1911","Andada","Belleza","Schoolbell","Average Sans","Doppio One","Corben","Tauri","Calligraffitti","Homenaje","Mountains of Christmas","Love Ya Like A Sister","Bubblegum Sans","Risque","Puritan","Kelly Slab","Judson","Cutive","Bentham","Sumana","Life Savers","Allan","Mukta Malar","Herr Von Muellerhoff","Notable","Carrois Gothic SC","Gilda Display","Asap Condensed","Balthazar","Duru Sans","Emilys Candy","Graduate","Kristi","Trirong","Cutive Mono","Halant","Faster One","Fira Mono","Suravaram","Palanquin Dark","The Girl Next Door","Delius","IBM Plex Mono","Capriola","Arizonia","Inder","Averia Serif Libre","Amethysta","Aref Ruqaa","Chelsea Market","Baloo Bhaijaan","Vesper Libre","Cambo","Trocchi","Mr De Haviland","Lemonada","Cormorant SC","Mouse Memoirs","Amiko","IBM Plex Sans Condensed","Merienda One","Andika","Mate","Federo","Poly","Rammetto One","Rozha One","Pompiere","Cambay","Cormorant Upright","Oregano","Knewave","Rouge Script","Gabriela","Kadwa","Proza Libre","Sedgwick Ave","Laila","Artifika","Seaweed Script","Qwigley","Gravitas One","Montez","Rye","Metamorphous","Give You Glory","Kosugi","Alike","Athiti","Short Stack","Uncial Antiqua","Clicker Script","Bowlby One","Cormorant Infant","Holtwood One SC","Quando","Prociono","Expletus Sans","Chonburi","Strait","Convergence","Sniglet","Fanwood Text","Iceland","Fondamento","Vast Shadow","Sarpanch","Denk One","Suranna","Lily Script One","Ranga","Sunflower","IM Fell English","Podkova","Crafty Girls","Elsie","Cedarville Cursive","Baumans","Wire One","Mako","Sofia","NTR","Mirza","Spicy Rice","Brawler","Harmattan","Crushed","Sriracha","Faustina","Patrick Hand SC","Gurajada","UnifrakturMaguntia","Walter Turncoat","IM Fell DW Pica","Over the Rainbow","Fontdiner Swanky","Bilbo Swash Caps","Belgrano","Imprima","Della Respira","Euphoria Script","Loved by the King","Tulpen One","Oleo Script Swash Caps","Frijole","Zeyada","Waiting for the Sunrise","Pavanam","Meddon","Megrim","Port Lligat Slab","Aguafina Script","Salsa","Ledger","La Belle Aurore","Just Me Again Down Here","Medula One","Rubik Mono One","Ramabhadra","Cherry Swash","McLaren","Amita","Tienne","Baloo Paaji","Shanti","Delius Swash Caps","Dekko","Lemon","Suez One","Ruslan Display","Sansita","Gafata","Nosifer","Spirax","Montserrat Subrayada","Katibeh","Averia Sans Libre","Wallpoet","Dawning of a New Day","Mallanna","Share Tech","Nova Round","Stardos Stencil","Vampiro One","Orienta","Nova Square","Codystar","Finger Paint","Bellefair","Alike Angular","Coda Caption","Galada","Quintessential","Miriam Libre","Unkempt","Atma","Fjord One","Milonga","Spectral SC","Voces","Nova Mono","Germania One","Habibi","IM Fell English SC","Bungee Shade","Headland One","Sail","Arya","Scope One","Black Han Sans","Encode Sans Semi Condensed","Yatra One","Londrina Outline","BioRhyme","Rakkas","Cantora One","Kosugi Maru","Kranky","Chicle","Mandali","Overpass Mono","Krona One","David Libre","Geo","Vibur","Engagement","Baloo Tamma","Slackey","Pirata One","Cherry Cream Soda","Baloo Chettan","Encode Sans Semi Expanded","Dynalight","Mate SC","Peralta","Nova Slim","Fenix","Sura","Amarante","Creepster","Cagliostro","Kite One","Numans","Rationale","Mrs Saint Delafield","Kotta One","League Script","Timmana","Condiment","Chela One","Antic Didone","Mukta Mahee","Dorsa","Poller One","Mystery Quest","Paprika","Farsan","Nova Flat","Chau Philomene One","Stoke","Baloo Bhai","IM Fell French Canon","Rosarivo","Simonetta","Sarina","Baloo Thambi","Asul","Englebert","Mogra","Delius Unicase","Buda","Stint Ultra Expanded","Stalemate","Ribeye","Bubbler One","Text Me One","Maiden Orange","Petrona","Flamenco","Underdog","Coiny","Joti One","Stint Ultra Condensed","Encode Sans Expanded","Junge","Ruluko","Esteban","East Sea Dokdo","UnifrakturCook","Port Lligat Sans","Mina","Princess Sofia","Autour One","Trade Winds","Wellfleet","IM Fell French Canon SC","Gaegu","Inknut Antiqua","Sancreek","Trykker","Ranchers","Plaster","Lovers Quarrel","Swanky and Moo Moo","Eater","Sonsie One","Stylish","Black And White Picture","Meera Inimai","Almendra","Henny Penny","Jua","Kirang Haerang","Eagle Lake","New Rocker","Gugi","Poor Story","Gamja Flower","Song Myung","Dokdo","Cute Font","Hi Melody","Yeon Sung","Overlock SC","Fresca","Averia Gruesa Libre","Diplomata SC","Linden Hill","Donegal One","Purple Purse","Italiana","Croissant One","Inika","Manuale","Glass Antiqua","Elsie Swash Caps","Revalia","Galindo","Ramaraja","Julee","Molle","Ruge Boogie","Chango","Marko One","Rhodium Libre","Redressed","Oldenburg","Fascinate Inline","Flavors","IM Fell Great Primer","Ravi Prakash","Offside","Akronim","Bilbo","Cormorant Unicase","Barrio","Sree Krushnadevaraya","Combo","Monofett","Snippet","Kavoon","MedievalSharp","Miltonian Tattoo","Ruthie","Jim Nightshade","Diplomata","Griffy","Asset","IM Fell DW Pica SC","Keania One","Kumar One","Monsieur La Doulaise","Smythe","Dr Sugiyama","Baloo Tammudu","Tillana","Rum Raisin","Lancelot","Irish Grover","Modak","Sahitya","Montaga","Mrs Sheppards","Bigshot One","Margarine","Modern Antiqua","Caesar Dressing","Devonshire","Metal Mania","Jacques Francois Shadow","Galdeano","Jomhuria","Chathura","Meie Script","IM Fell Great Primer SC","Baloo Da","Atomic Age","Kavivanar","Sunshiney","Bahiana","Seymour One","Asar","Ribeye Marrow","Miniver","Felipa","Macondo","Vollkorn SC","Snowburst One","Ewert","Original Surfer","Zilla Slab Highlight","IM Fell Double Pica SC","Trochut","Astloch","Goblin One","Kenia","Nova Script","Arbutus","Piedra","Warnes","Libre Barcode 128","Romanesco","Almendra Display","Unlock","Nova Cut","Miss Fajardose","Bigelow Rules","Almendra SC","Miltonian","Jolly Lodger","Nova Oval","Bonbon","Smokum","Londrina Shadow","Tenali Ramakrishna","Bungee Outline","Passero One","Sedgwick Ave Display","Jacques Francois","Butterfly Kids","Lakki Reddy","Libre Barcode 39 Extended Text","Libre Barcode 39 Extended","Geostar Fill","Gorditas","Fascinate","Bungee Hairline","Sofadi One","Libre Barcode 39 Text","Libre Barcode 39","Libre Barcode 128 Text","Gidugu","Supermercado One","Sevillana","Stalinist One","Aubrey","Macondo Swash Caps","Geostar","Erica One","Federant","Peddana","Fruktur","Londrina Sketch","Butcherman","Mr Bedfort","Emblema One","Hanalei","Dhurjati","Kumar One Outline","BioRhyme Expanded"]},o={getRandomFont:function(e){var t=i[e];return t[r.A.randomInt(0,t.length-1)]},elementForFont:function(e,t){var n=function(e,t){var n="https://fonts.googleapis.com/css?family="+e.replace(" ","+")+"&display=swap";return t&&(n+="&text="+t),n}(e,t);return function(e){var t=document.createElement("link");return t.href=e,t.rel="stylesheet",t}(n)}}},725:function(e,t,n){n.d(t,{A:function(){return r}});var r={randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},493:function(e,t,n){var r={"./head_controller.js":137,"./nameplate_controller.js":714,"./page_controller.js":726,"./picker_controller.js":20};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=493}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};!function(){var e=function(e){function t(){var t;return(t=e.call(this)||this).isIframeLoaded=!1,t.setupDom(),t}_inheritsLoose(t,e);var n=t.prototype;return n.connectedCallback=function(){var e=this;this.addEventListener("pointerover",t.warmConnections,{once:!0}),this.addEventListener("click",(function(){return e.addIframe()}))},n.setupDom=function(){var e=this.attachShadow({mode:"open"}),t="";window.liteYouTubeNonce&&(t='nonce="'+window.liteYouTubeNonce+'"'),e.innerHTML="\n      <style "+t+'>\n        :host {\n          contain: content;\n          display: block;\n          position: relative;\n          width: 100%;\n          padding-bottom: calc(100% / (16 / 9));\n        }\n\n        @media (max-width: 40em) {\n          :host([short]) {\n            padding-bottom: calc(100% / (9 / 16));\n          }\n        }\n\n        #frame, #fallbackPlaceholder, iframe {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          left: 0;\n        }\n\n        #frame {\n          cursor: pointer;\n        }\n\n        #fallbackPlaceholder {\n          object-fit: cover;\n        }\n\n        #frame::before {\n          content: \'\';\n          display: block;\n          position: absolute;\n          top: 0;\n          background-image: linear-gradient(180deg, #111 -20%, transparent 90%);\n          height: 60px;\n          width: 100%;\n          z-index: 1;\n        }\n\n        #playButton {\n          width: 68px;\n          height: 48px;\n          background-color: transparent;\n          background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>\');\n          z-index: 1;\n          border: 0;\n          border-radius: inherit;\n        }\n\n        #playButton:before {\n          content: \'\';\n          border-style: solid;\n          border-width: 11px 0 11px 19px;\n          border-color: transparent transparent transparent #fff;\n        }\n\n        #playButton,\n        #playButton:before {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate3d(-50%, -50%, 0);\n          cursor: inherit;\n        }\n\n        /* Post-click styles */\n        .activated {\n          cursor: unset;\n        }\n\n        #frame.activated::before,\n        #frame.activated > #playButton {\n          display: none;\n        }\n      </style>\n      <div id="frame">\n        <picture>\n          <source id="webpPlaceholder" type="image/webp">\n          <source id="jpegPlaceholder" type="image/jpeg">\n          <img id="fallbackPlaceholder" referrerpolicy="origin" loading="lazy">\n        </picture>\n        <button id="playButton"></button>\n      </div>\n    ',this.domRefFrame=e.querySelector("#frame"),this.domRefImg={fallback:e.querySelector("#fallbackPlaceholder"),webp:e.querySelector("#webpPlaceholder"),jpeg:e.querySelector("#jpegPlaceholder")},this.domRefPlayButton=e.querySelector("#playButton")},n.setupComponent=function(){this.initImagePlaceholder(),this.domRefPlayButton.setAttribute("aria-label",this.videoPlay+": "+this.videoTitle),this.setAttribute("title",this.videoPlay+": "+this.videoTitle),(this.autoLoad||this.isYouTubeShort())&&this.initIntersectionObserver()},n.attributeChangedCallback=function(e,t,n){switch(e){case"videoid":case"playlistid":case"videoTitle":case"videoPlay":t!==n&&(this.setupComponent(),this.domRefFrame.classList.contains("activated")&&(this.domRefFrame.classList.remove("activated"),this.shadowRoot.querySelector("iframe").remove(),this.isIframeLoaded=!1))}},n.addIframe=function(e){if(void 0===e&&(e=!1),!this.isIframeLoaded){var t,n=e?0:1,r=this.noCookie?"-nocookie":"";t=this.playlistId?"?listType=playlist&list="+this.playlistId+"&":this.videoId+"?",this.isYouTubeShort()&&(this.params="loop=1&mute=1&modestbranding=1&playsinline=1&rel=0&enablejsapi=1&playlist="+this.videoId,n=1);var i='\n<iframe frameborder="0" title="'+this.videoTitle+'"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://www.youtube'+r+".com/embed/"+t+"autoplay="+n+"&"+this.params+'"\n></iframe>';this.domRefFrame.insertAdjacentHTML("beforeend",i),this.domRefFrame.classList.add("activated"),this.isIframeLoaded=!0,this.attemptShortAutoPlay(),this.dispatchEvent(new CustomEvent("liteYoutubeIframeLoaded",{detail:{videoId:this.videoId},bubbles:!0,cancelable:!0}))}},n.initImagePlaceholder=function(){var e,t="https://i.ytimg.com/vi_webp/"+this.videoId+"/"+this.posterQuality+".webp",n="https://i.ytimg.com/vi/"+this.videoId+"/"+this.posterQuality+".jpg";this.domRefImg.fallback.loading=this.posterLoading,this.domRefImg.webp.srcset=t,this.domRefImg.jpeg.srcset=n,this.domRefImg.fallback.src=n,this.domRefImg.fallback.setAttribute("aria-label",this.videoPlay+": "+this.videoTitle),null==(e=this.domRefImg)||null==(e=e.fallback)||e.setAttribute("alt",this.videoPlay+": "+this.videoTitle)},n.initIntersectionObserver=function(){var e=this;new IntersectionObserver((function(n,r){n.forEach((function(n){n.isIntersecting&&!e.isIframeLoaded&&(t.warmConnections(),e.addIframe(!0),r.unobserve(e))}))}),{root:null,rootMargin:"0px",threshold:0}).observe(this)},n.attemptShortAutoPlay=function(){var e=this;this.isYouTubeShort()&&setTimeout((function(){var t;null==(t=e.shadowRoot.querySelector("iframe"))||null==(t=t.contentWindow)||t.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}),2e3)},n.isYouTubeShort=function(){return""===this.getAttribute("short")&&window.matchMedia("(max-width: 40em)").matches},t.addPrefetch=function(e,t){var n=document.createElement("link");n.rel=e,n.href=t,n.crossOrigin="true",document.head.append(n)},t.warmConnections=function(){t.isPreconnected||window.liteYouTubeIsPreconnected||(t.addPrefetch("preconnect","https://i.ytimg.com/"),t.addPrefetch("preconnect","https://s.ytimg.com"),t.addPrefetch("preconnect","https://www.youtube.com"),t.addPrefetch("preconnect","https://www.google.com"),t.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),t.addPrefetch("preconnect","https://static.doubleclick.net"),t.isPreconnected=!0,window.liteYouTubeIsPreconnected=!0)},_createClass(t,[{key:"videoId",get:function(){return encodeURIComponent(this.getAttribute("videoid")||"")},set:function(e){this.setAttribute("videoid",e)}},{key:"playlistId",get:function(){return encodeURIComponent(this.getAttribute("playlistid")||"")},set:function(e){this.setAttribute("playlistid",e)}},{key:"videoTitle",get:function(){return this.getAttribute("videotitle")||"Video"},set:function(e){this.setAttribute("videotitle",e)}},{key:"videoPlay",get:function(){return this.getAttribute("videoPlay")||"Play"},set:function(e){this.setAttribute("videoPlay",e)}},{key:"videoStartAt",get:function(){return this.getAttribute("videoStartAt")||"0"}},{key:"autoLoad",get:function(){return this.hasAttribute("autoload")}},{key:"noCookie",get:function(){return this.hasAttribute("nocookie")}},{key:"posterQuality",get:function(){return this.getAttribute("posterquality")||"hqdefault"}},{key:"posterLoading",get:function(){return this.getAttribute("posterloading")||"lazy"}},{key:"params",get:function(){return"start="+this.videoStartAt+"&"+this.getAttribute("params")},set:function(e){this.setAttribute("params",e)}}],[{key:"observedAttributes",get:function(){return["videoid","playlistid"]}}])}(_wrapNativeSuper(HTMLElement));e.isPreconnected=!1,customElements.define("lite-youtube",e);var t=s(689),n=t.lg.start(),r=s(493);n.load(function(e){return e.keys().map((function(t){return function(e,t){var n=function(e){var t=(e.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}(t);if(n)return function(e,t){var n=e.default;if("function"==typeof n)return{identifier:t,controllerConstructor:n}}(e(t),n)}(e,t)})).filter((function(e){return e}))}(r))}();